<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="webclient_login" inherit_id="web.login_layout">
        <xpath expr="//t[@t-call='web.frontend_layout']/t[last()]" position="after">
            <t t-set="body_classname" t-value="'o_home_menu_background'"/>
            <t t-set="login_card_classes" t-value="'rounded-0 shadow-sm bg-white'"/>
        </xpath>
    </template>

    <template id="webclient_bootstrap" inherit_id="web.webclient_bootstrap">
        <xpath expr="//t[@t-set='head']" position="after">
            <t t-set="head_web_enterprise">
                <link rel="manifest" href="/web/manifest.webmanifest" crossorigin="use-credentials"/>
                <link rel="apple-touch-icon" href="/web_enterprise/static/img/odoo-icon-ios.png"/>
            </t>
            <t t-set="head" t-value="head_web_enterprise + (head or '')"/>
        </xpath>
        <xpath expr="//meta[@name='theme-color']" position="replace">
            <meta name="theme-color" t-att-content="'#242733' if request.httprequest.cookies.get('color_scheme') == 'dark' else '#714B67'"/>
        </xpath>
    </template>

    <template id="webclient_offline">
        <t t-call="web.layout">
            <t t-set="html_data" t-value="{'style': 'height: 100%;'}"/>
            <t t-set="title">Offline</t>
            <t t-set="head">
                <script type="text/javascript">
                    window.addEventListener('online', () => location.reload());
                </script>
                <style>
                    body {
                        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Ubuntu, "Noto Sans", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
                        padding:0;
                        margin:0;
                        background-color: #fff;
                        color: rgb(17, 24, 39);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        text-align: center;
                        height: 100vh;
                        width: 100vw;
                        user-select: none;
                    }
                    .card {
                        width: 80%;
                    }
                    .card img {
                        width: 96px;
                        height: auto;
                        filter: grayscale(.6);
                    }
                    .card button {
                        background-color: #714B67;
                        color: #FFFFFF;
                        border: 1px solid #714B67;
                        border-radius: .25rem;
                        padding: .5rem 1rem;
                        cursor: pointer;
                        font-size: 1.2rem;
                        font-weight: 500;
                    }
                </style>
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
            </t>
            <div class="card">
                <img t-attf-src="data:image/png;base64,{{odoo_icon}}" alt="Odoo logo"/>
                <h1>You are offline</h1>
                <p>Check your network connection and come back here. Odoo will load as soon as you're back online.</p>
                <button onclick="location.reload()">Check again</button>
            </div>
        </t>
    </template>
</odoo>
