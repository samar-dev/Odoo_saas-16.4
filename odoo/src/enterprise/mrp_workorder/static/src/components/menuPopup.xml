<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="mrp_workorder.MenuPopup" owl="1">
        <div role="dialog" class="popup">
            <div class="popup-selection">
                <header class="title h3" t-esc="title">
                    What do you want to do?
                </header>
                <div class="o_workorder_button_list o_mrp_menu_dialog btn-group-vertical d-flex flex-wrap p-2">
                    <!-- Invisible checkbox to remove focus on first button when entering the modals -->
                    <input type="checkbox" hidden="hidden"/>
                    <button class="btn btn-danger" t-on-click="block">Block</button>
                    <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.callAction('button_scrap')">Scrap <i class="oi oi-chevron-right"/></button>
                    <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.callAction('action_add_component')">Add Component <i class="oi oi-chevron-right"/></button>
                    <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.callAction('action_add_byproduct')" name="addByProduct">Add By-product <i class="oi oi-chevron-right"/></button>
                    <button t-if="props.popupData.has_bom" class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.callAction('worksheetSuggestion')" name="worksheetSuggestion">Suggest a Worksheet Improvement <i class="oi oi-chevron-right"/></button>

                </div>
                <div t-if="props.popupData.has_bom" class="o_mrp_menu_dialog position-absolute top-0 start-100">
                    <button class="o_modal_back" t-on-click="worksheetSuggestion"><i class="oi oi-chevron-left"/> Back</button>
                    <t t-if="step">
                        <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.proposeChange('update_step', env._t('Update Instructions'), env._t('Your New Instructions feedback was created'))">Update Instructions <i class="oi oi-chevron-right"/></button>
                        <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.proposeChange('remove_step', env._t('Remove Step'), env._t('Your feedback to delete this step was created'))">Delete this Step <i class="oi oi-chevron-right"/></button>
                    </t>
                    <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.callAction('action_add_step')">Add a Step <i class="oi oi-chevron-right"/></button>
                    <t t-if="step">
                        <button class="btn btn-outline-secondary d-flex justify-content-between align-items-center p-3 fs-3" t-on-click="() => this.proposeChange('set_picture', 'Change Picture', '')">Set a New picture <i class="oi oi-chevron-right"/></button>
                    </t>
                </div>
            </div>
            <footer class="footer">
                <div class="btn btn-secondary" t-on-click="cancel">Cancel</div>
            </footer>
        </div>
    </t>
</templates>
